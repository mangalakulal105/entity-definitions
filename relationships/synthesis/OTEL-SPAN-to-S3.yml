relationships:
  - name: otelCallsS3
    version: "1"
    origins:
      - OpenTelemetry
    conditions:
      - attribute: eventType
        anyOf: [ "Span" ]
      - attribute: name
        regex: "^S3.*"
      - attribute: rpc.service
        value: "S3"
    relationship:
      expires: P75M
      relationshipType: CALLS
    source:
      buildGuid:
        account:
          attribute: accountId
        domain:
            value: EXT
        type:
          value: SERVICE
        identifier:
          fragments:
            - attribute: service.name
          hashAlgorithm: FARM_HASH
    target:
      extractGuid:
        attribute: s3.guid