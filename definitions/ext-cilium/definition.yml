domain: EXT
type: CILIUM

synthesis:
  rules:
    # telemetry from prometheus exporter
  - identifier: instance
    name: instance
    encodeIdentifierInGUID: true
    conditions:
    - attribute: metricName
      prefix: cilium_
      present: false
    - attribute: metricName
      prefix: hubble_
      present: false
  tags:
    instrumentation.provider:
    instrumentation.name:
    instrumentation.source:
    job:
    pod:
    k8s_app:
    namespace:
    scope:
    status:
    newrelic.source:
    prometheus_server:
    kubernetes_io_hostname:
    kubernetes_io_os:

dashboardTemplates:
  newRelic:
    template: dashboard.json

configuration:
  entityExpirationTime: DAILY
  alertable: true
