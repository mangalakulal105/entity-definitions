domain: EXT
type: RSERVICE
synthesis:
  rules:
  - compositeIdentifier: 
    separator: ":"
    attributes:
    - rfc190_environment
    - application
    name: application
    encodeIdentifierInGUID: true

    conditions:
    - attribute: metricName
      present: true
    - attribute: application
      present: true
    - attribute: rfc190Scope
      present: true
    - attribute: rfc190_component
      present: true
    - attribute: rfc190_datacenter
      present: true
    - attribute: rfc190_deployment
      present: true
    - attribute: rfc190_environment
      present: true
    - attribute: rfc190_product
      present: true
    - attribute: rfc460Hostname
      present: true
    - attribute: application
      prefix: 'cap.'
    - attribte: newrelic.source
      value: 'metricAPI'

  - compositeIdentifier: 
    separator: ":"
    attributes:
    - rfc190_environment
    - application
    name: application
    encodeIdentifierInGUID: true

    conditions:
    - attribute: metricName
      present: true
    - attribute: application
      present: true
    - attribute: rfc190Scope
      present: true
    - attribute: rfc190_component
      present: true
    - attribute: rfc190_datacenter
      present: true
    - attribute: rfc190_deployment
      present: true
    - attribute: rfc190_environment
      present: true
    - attribute: rfc190_product
      present: true
    - attribute: rfc460Hostname
      present: true
    - attribute: application
      prefix: 'gaps.'
    - attribte: newrelic.source
      value: 'metricAPI'

  tags:
    location:
    application:
    rfc190_datacenter:

dashboardTemplates:
  newRelic:
    template: dashboard.json

configuration:
  entityExpirationTime: EIGHT_DAYS
  alertable: true